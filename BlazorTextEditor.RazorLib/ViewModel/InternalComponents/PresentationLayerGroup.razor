@using BlazorTextEditor.RazorLib.Cursor

<div class="@CssClassString">
    
    @{
        var localTextEditorViewModel = TextEditorViewModel;
        
        var presentationLayerOrderedByRankAscending = TextEditorPresentations
                .OrderBy(x => x.Rank)
            .ToList();
    }

    @foreach (var presentation in presentationLayerOrderedByRankAscending)
    {
        <div class="@presentation.CssClassString">
            @foreach (var textSpan in presentation.TextEditorTextSpans)
            {
                <div class="@presentation.DecorationMapper.Map(textSpan.DecorationByte)"
                     style="position: absolute; @GetCssStyleString(textSpan.StartingIndexInclusive, textSpan.EndingIndexExclusive, TextEditorModel, TextEditorViewModel)">
                    
                </div>
            }
        </div>
    }
</div>